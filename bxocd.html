<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bayeux: OCD support</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_bayeux_66x55_transparent.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bayeux
   &#160;<span id="projectnumber">3.0.0</span>
   </div>
   <div id="projectbrief">Core Foundation library for SuperNEMO</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">OCD support </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#bxocd_intro">Introduction </a></li>
<li class="level1"><a href="#bxocd_onlinemanual">OCD online manual </a></li>
<li class="level1"><a href="#bxocd_bayeuxclasses">OCD documentation for Bayeux&#39;s classes </a></li>
<li class="level1"><a href="#bxocd_addsupporttoclass">Add OCD support to a configurable class </a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="bxocd_intro"></a>
Introduction </h1>
<p>Bayeux provides utility and high level classes (managers...) that can be dynamically configured through some possibly complex sets of parameters. The Bayeux library as well as its client applications rely on a configuration interface based on the <code><a class="el" href="classdatatools_1_1properties.html" title="A dictionary of arbitrary properties. ">datatools::properties</a></code> and <code><a class="el" href="classdatatools_1_1multi__properties.html" title="A container of mapped properties objects. ">datatools::multi_properties</a></code> classes. Typically, a configurable object can be prepared through an interface similar to the following:</p>
<div class="fragment"><div class="line">// Instantiate a collection of configuration parameters:</div><div class="line">datatools::properties parameters;</div><div class="line"></div><div class="line">// Load it from an ASCII file:</div><div class="line">parameters.read_configuration(&quot;my_manager.conf&quot;);</div><div class="line"></div><div class="line">// Instantiate the configurable object:</div><div class="line">my::manager mgr;</div><div class="line"></div><div class="line">// Configure and initialize the object using the above</div><div class="line">// collection of parameters:</div><div class="line">mgr.initialize(parameters);</div><div class="line"></div><div class="line">// Run/use the configured and initialized object:</div><div class="line">mgr.run();</div><div class="line"></div><div class="line">// Reset/terminate the object:</div><div class="line">mgr.reset();</div></div><!-- fragment --><p>In order to help users to understand how to properly configure such kind of object, Bayeux implements the <em>Object Configuration Description</em> (OCD) interface which proposes an embedded documentation system for these classes. The OCD interface provides an API to describe the parameters that are used to configure an instance of a given class. This description consists in detailing the name, type, mutability, default value (if any) of each configuration parameter and possibly other constraints. This is done programmatically using a companion object of the class that is automatically registered in the library using some dedicated macros. This gives to the class some kind of limited introspection system, at least in the context of object initialization.</p>
<p>The users can then use the Bayeux's OCD interface to browse the documentation associated to the configuration of instances of the class, and possibly validate or generate skeleton configuration files for objects of this class.</p>
<h1><a class="anchor" id="bxocd_onlinemanual"></a>
OCD online manual </h1>
<p>The <code>bxocd_manual</code> executable can be used to request OCD documentation from the classes provided by any library that uses the OCD interface.</p>
<h2>Getting help </h2>
<div class="fragment"><div class="line">$ bxocd_manual --help</div><div class="line">...</div></div><!-- fragment --><h2>Print the list of classes with OCD support </h2>
<p>To print the list of all Bayeux's classes with OCD support:</p>
<div class="fragment"><div class="line">$ bxocd_manual --action list</div><div class="line">...</div></div><!-- fragment --><p>To print the only OCD supported Bayeux's classes with namespace <code>geomtools</code>:</p>
<div class="fragment"><div class="line">$ bxocd_manual --action list | grep ^geomtools::</div><div class="line">...</div></div><!-- fragment --><h2>Support for additional libraries </h2>
<p>List the classes with OCD support from the Bayeux/mctools' Geant4 plugin:</p>
<div class="fragment"><div class="line">$ bxocd_manual \</div><div class="line">  --load-dll &quot;Bayeux_mctools_geant4@$(bxquery --libdir)&quot; \</div><div class="line">  --action list | grep ^mctools::g4::</div><div class="line">...</div></div><!-- fragment --><h2>Browse the OCD documentation </h2>
<p>To generate a reStructuredText formatted documentation for a given Bayeux's class, convert it in HTML format and browse it:</p>
<div class="fragment"><div class="line">$ bxocd_manual  \</div><div class="line">   --action show \</div><div class="line">   --class-id geomtools::box \</div><div class="line">   | pandoc -r rst -w html -o geomtools__box.html</div><div class="line">$ xdg-open geomtools__box.html &amp;</div></div><!-- fragment --><h1><a class="anchor" id="bxocd_bayeuxclasses"></a>
OCD documentation for Bayeux's classes </h1>
<p>OCD documentation for Bayeux's classes in not available.</p>
<h1><a class="anchor" id="bxocd_addsupporttoclass"></a>
Add OCD support to a configurable class </h1>
<p>The Bayeux OCD tutorial, available from the Bayeux source directory, illustrates how to add OCD support to a class.</p>
<p>The Bayeux/datatools library also provides a example dedicated to the OCD support, it is available from the Bayeux source directory. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
