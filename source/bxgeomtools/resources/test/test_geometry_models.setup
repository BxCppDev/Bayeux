# -*- mode: conf-unix; -*-
# List of multi-properties (datatools::utils::multi_properties):

#@description List of geometry models 
#
# This geometry sample setup describes an optical module
# based on the coupling of a PMT and a scintillator block
# through a light guide.
#
#@key_label   "name"
#@meta_label  "type"

[name="front_window.model" type="geomtools::simple_shaped_model"]
shape_type :   string =  "box"
x   : real   = 250.0
y   : real   = 250.0
z   : real   = 12.0e-3
length_unit       : string  = "mm"
material.ref      : string  = "mylar"
visibility.hidden : boolean = 0
visibility.color  : string  = "green"

[name="scintillator_block.model" type="geomtools::simple_shaped_model"]
shape_type :   string =  "box"
x   : real   = 250.0
y   : real   = 250.0
z   : real   = 120.0
length_unit       : string    = "mm"
material.ref      : string = "polystyrene"
visibility.hidden : boolean = 0
visibility.color  : string  = "cyan"

[name="light_guide.model" type="geomtools::simple_shaped_model"]
shape_type :   string =  "cylinder"
r   : real   = 60.0
z   : real   = 60.0
length_unit       : string    = "mm"
material.ref : string = "polystyrene"
visibility.hidden : boolean = 0
visibility.color  : string  = "blue"

[name="small_dynode.model" type="geomtools::simple_shaped_model"]
shape_type   : string =  "box"
x            : real   = 10.0
y            : real   = 10.0
z            : real   =  1.0
length_unit  : string  = "mm"

material.ref      : string  = "copper"

visibility.hidden : boolean = 0
visibility.color  : string  = "red"

[name="focusing_electrode.model" type="geomtools::simple_shaped_model"]
shape_type   : string =  "tube"
inner_r      : real   = 30.0
outer_r      : real   = 40.0
z            : real   =  1.0
length_unit  : string  = "mm"

material.ref      : string  = "copper"

visibility.hidden : boolean = 0
visibility.color  : string  = "red"

[name="dynode.model" type="geomtools::simple_shaped_model"]
shape_type   : string =  "box"
x            : real   = 35.0
y            : real   = 20.0
z            : real   =  0.5
length_unit  : string  = "mm"

material.ref      : string  = "copper"

visibility.hidden : boolean = 0
visibility.color  : string  = "red"

[name="approx_sphere_PMT.model" type="geomtools::simple_shaped_model"]
shape_type :   string =  "sphere"
r   : real   = 62.5
length_unit       : string    = "mm"
material.ref : string = "glass"
visibility.hidden : boolean = 0
visibility.color  : string  = "magenta"

[name="approx_tube_PMT.model" type="geomtools::simple_shaped_model"]
shape_type   : string =  "tube"
material.ref : string = "glass"
filled_mode  : string =  "by_extrusion"
material.filled.ref : string = "vacuum"
outer_r      : real   =  62.0
inner_r      : real   =  60.0
z            : real   = 150.0
length_unit       : string    = "mm"
visibility.hidden : boolean = 0
visibility.color  : string  = "magenta"
visibility.hidden_envelop   : boolean = 0
visibility.daughters.hidden : boolean = 0

internal_item.labels 	    : string[10] = \
				"dynode_0" \
				"dynode_1" \
				"dynode_2" \
				"dynode_3" \
				"dynode_4" \
				"dynode_5" \
				"dynode_6" \
				"dynode_7" \
				"dynode_8" \
				"dynode_9" 
internal_item.model.dynode_0     : string  = "small_dynode.model"
internal_item.placement.dynode_0 : string  = "0 -10 -5 (mm)"
internal_item.model.dynode_1     : string  = "small_dynode.model"
internal_item.placement.dynode_1 : string  = "0 +10 -10 (mm)"
internal_item.model.dynode_2     : string  = "small_dynode.model"
internal_item.placement.dynode_2 : string  = "0 -10 -15 (mm)"
internal_item.model.dynode_3     : string  = "small_dynode.model"
internal_item.placement.dynode_3 : string  = "0 +10 -20 (mm)"
internal_item.model.dynode_4     : string  = "small_dynode.model"
internal_item.placement.dynode_4 : string  = "0 -10 -25 (mm)"
internal_item.model.dynode_5     : string  = "small_dynode.model"
internal_item.placement.dynode_5 : string  = "0 +10 -30 (mm)"
internal_item.model.dynode_6     : string  = "small_dynode.model"
internal_item.placement.dynode_6 : string  = "0 -10 -35 (mm)"
internal_item.model.dynode_7     : string  = "small_dynode.model"
internal_item.placement.dynode_7 : string  = "0 +10 -40 (mm)"
internal_item.model.dynode_8     : string  = "small_dynode.model"
internal_item.placement.dynode_8 : string  = "0 -10 -45 (mm)"
internal_item.model.dynode_9     : string  = "small_dynode.model"
internal_item.placement.dynode_9 : string  = "0 +10 -50 (mm)"

[name="PMT.model" type="geomtools::simple_shaped_model"]
shape_type  : string = "polycone"
#filled_mode : string = "by_extrusion"
filled_mode : string = "by_envelope" 
length_unit : string = "mm"

material.ref        : string = "glass"
material.filled.ref : string = "vacuum"

build_mode  : string = "datafile"
datafile    : string = "${GEOMTOOLS_ROOT}/resources/data/test_hamamatsu_R5912MOD_1.data"

visibility.hidden           : boolean = 0
visibility.hidden_envelop   : boolean = 0
visibility.color            : string  = "magenta"
visibility.daughters.hidden : boolean = 0


internal_item.labels 	    : string[12] = \
				"focusing_electrode" \
				"dynode_0" \
				"dynode_1" \
				"dynode_2" \
				"dynode_3" \
				"dynode_4" \
				"dynode_5" \
				"dynode_6" \
				"dynode_7" \
				"dynode_8" \
				"dynode_9" \
				"anode" 
internal_item.placement.focusing_electrode : string  = "0 0 +20 (mm)"
internal_item.model.focusing_electrode     : string  = "focusing_electrode.model"
internal_item.model.dynode_0     : string  = "dynode.model"
internal_item.placement.dynode_0 : string  = "0 -15 +0 (mm) / x +45 (degree)"
internal_item.model.dynode_1     : string  = "dynode.model"
internal_item.placement.dynode_1 : string  = "0 +15 +0 (mm) / x +45 (degree)"
internal_item.model.dynode_2     : string  = "dynode.model"
internal_item.placement.dynode_2 : string  = "0 -15 -20 (mm) / x +45 (degree)"
internal_item.model.dynode_3     : string  = "dynode.model"
internal_item.placement.dynode_3 : string  = "0 +15 -20 (mm) / x +45 (degree)"
internal_item.model.dynode_4     : string  = "dynode.model"
internal_item.placement.dynode_4 : string  = "0 -15 -40 (mm) / x +45 (degree)"
internal_item.model.dynode_5     : string  = "dynode.model"
internal_item.placement.dynode_5 : string  = "0 +15 -40 (mm) / x +45 (degree)"
internal_item.model.dynode_6     : string  = "dynode.model"
internal_item.placement.dynode_6 : string  = "0 -15 -60 (mm) / x +45 (degree)"
internal_item.model.dynode_7     : string  = "dynode.model"
internal_item.placement.dynode_7 : string  = "0 +15 -60 (mm) / x +45 (degree)"
internal_item.model.dynode_8     : string  = "dynode.model"
internal_item.placement.dynode_8 : string  = "0 -15 -80 (mm) / x +45 (degree)"
internal_item.model.dynode_9     : string  = "dynode.model"
internal_item.placement.dynode_9 : string  = "0 +15 -80 (mm) / x +45 (degree)"
internal_item.model.dynode_10     : string  = "dynode.model"
internal_item.placement.anode : string  = "0 0 -95 (mm) / x +20 (degree)"
internal_item.model.anode     : string  = "dynode.model"

# material.ref       : string = "glass"
# inner_material.ref : string = "vacuum"

# visibility.hidden_envelop   : boolean = 1
# visibility.hidden           : boolean = 0
# visibility.color            : string  = "magenta"
# visibility.daughters.hidden : boolean = 0

# [name="PMT_endcap.model" type="geomtools::simple_shaped_model"]
# shape_type  : string = "cylinder"
# r           : real   = 32.5
# z           : real   = 2.0
# length_unit : string = "mm"

# material.ref       : string = "glass"

# visibility.hidden_envelop   : boolean = 0
# visibility.hidden           : boolean = 0
# visibility.color            : string  = "magenta"
# visibility.daughters.hidden : boolean = 0

[name="PMT_base.model" type="geomtools::simple_shaped_model"]
shape_type   : string =  "cylinder"
r            : real   = 30.0
z            : real   = 40.0
length_unit  : string = "mm"

material.ref : string = "polystyrene"

visibility.hidden : boolean = 0
visibility.color  : string  = "orange"

[name="optical_module.model" type="geomtools::stacked_model"]
material.ref      : string    = "air"

stacked.axis            : string = "z"
stacked.number_of_items : integer = 5

stacked.model_4   : string  = "front_window.model"
stacked.label_4   : string  = "front_window"

stacked.model_3   : string  = "scintillator_block.model"
stacked.label_3   : string  = "scintillator_block"

stacked.model_2   : string  = "light_guide.model"
stacked.label_2   : string  = "light_guide"

#stacked.model_1   : string  = "approx_tube_PMT.model"
stacked.model_1   : string  = "PMT.model"
stacked.label_1   : string  = "PMT"

stacked.model_0   : string  = "PMT_base.model"
stacked.label_0   : string  = "PMT_base"

visibility.hidden : boolean   = 0
visibility.color  : string    = "grey"

### World ###

[name="world" type="geomtools::simple_world_model"]
material.ref    : string = "vacuum"
setup.model     : string = "optical_module.model" 

angle_unit      : string = "degree"
setup.phi       : real   = 20.0
setup.theta     : real   = 30.0

setup.x         : real   = 0.0
setup.y         : real   = 0.0
setup.z         : real   = 0.0
world.x         : real   = 500.0
world.y         : real   = 500.0
world.z         : real   = 500.0
length_unit     : string = "mm"

visibility.hidden           : boolean = 0
visibility.daughters.hidden : boolean = 0

# End of list of multi-properties.
