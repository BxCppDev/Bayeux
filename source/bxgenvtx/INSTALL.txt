
genvtx installation instructions:
------------------------------------

1 - Third-party software setup :
--------------------------------

genvtx depends on the geomtools library which must  be
installed and setup. Underlying dependencies are:
 - geomtools,
 - mygsl,
 - datatools.

Typical setup :
{{{
bash$ do_cadfael_all_setup
...
bash$ do_datatools_setup
...
bash$ do_mygsl_setup
...
bash$ do_geomtools_setup
...
}}}


2- Plain CMake installation :
-----------------------------

Change to the genvtx base directory :
{{{
bash$ cd <genvtx base dir>
}}}

Create a 'build' directory :
{{{
bash$ mkdir build
bash$ cd build
}}}

Configure the installation to the '${HOME}/software' directory.
Note: you must choose a directory where ou have write access.

{{{
bash$ cmake \
   -DCMAKE_INSTALL_PREFIX:PATH=${HOME}/software \
   -DCMAKE_BUILD_TYPE:STRING=Release \
   ..
}}}

This prints :
{{{
-- The C compiler identification is GNU
-- The CXX compiler identification is GNU

...

-- Configuring done
-- Generating done
-- Build files have been written to: <genvtx base dir>/build
}}}

Build :
{{{
bash$ make
}}}

Generate the documentation :
{{{
bash$ make doc
}}}

Perform tests :
{{{
bash$ make test
}}}

Clean test material :
{{{
bash$ make clean_test
}}}

Installation (here in the '${HOME}/software' directory) :
{{{
bash$ make install
}}}

Remove the temporary build directory :
{{{
bash$ cd build
bash$ rm -fr build
}}}


3 - Production CMake installation using the 'pkgtool' wrapper :
---------------------------------------------------------------

Change to the genvtx base directory :
{{{
bash$ cd <genvtx base dir>
}}}

Getting help :
{{{
bash$ ./pkgtools.d/pkgtool --help
}}}

Run the following configure/build/install sequence :
{{{
bash$ ./pkgtools.d/pkgtool check
bash$ ./pkgtools.d/pkgtool configure --install-prefix ${HOME}/software
bash$ ./pkgtools.d/pkgtool build --number-of-tasks auto
bash$ ./pkgtools.d/pkgtool doc
bash$ ./pkgtools.d/pkgtool test
bash$ ./pkgtools.d/pkgtool install
}}}

De-installation :
{{{
bash$ ./pkgtools.d/pkgtool uninstall
}}}

Full reset of the package :
{{{
bash$ ./pkgtools.d/pkgtool reset
}}}


4 - Setup : 
-----------

Load the definition of the genvtx setup function :
{{{
bash$ source ${HOME}/software/etc/genvtx_setup.sh
NOTICE: do_datatools_setup: Please setup 'genvtx' with 'do_genvtx_setup'.
}}}

Invoke the setup function :
{{{
bash$ do_genvtx_setup
NOTICE: do_genvtx_setup: Setup genvtx...
NOTICE: do_genvtx_setup: Setup genvtx done.
}}}

Use genvtx :
{{{
bash$ which genvtx-config 
/home/<login>/software/bin/genvtx-config
bash$ genvtx-config --version
3.0.0
bash$ genvtx-config --cflags
...
bash$ genvtx-config --ldflags
...
}}}

--
Fran√ßois Mauger <mauger@lpccaen.in2p3.fr>
Updated: 2012-01-11


 


