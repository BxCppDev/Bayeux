# SuperNEMO G4 simulation manager configuration file:
# -*- mode: conf-unix; -*-

#@description The list of configuration for internal components of SNG4 manager
#@key_label   "name"
#@meta_label  ""


######################################
# MANAGER (main configuration level) #
######################################

[name="manager"]

#@description Number of events to be simulated:
debug                 : boolean = 0
verbose               : boolean = 0
number_of_events      : integer = 20
g4_tracking_verbosity : integer = 0
g4_visualization      : boolean = 0
seed                  : integer = 0


############
# GEOMETRY #
############

# [name="geometry"]

# #@description Main configuration file for the geometry manager:
# geometry.config : string = "${SNGEOMETRY_DATA_DIR}/resources/setups/snemo/config_1.0/manager.conf";

# # Devel printing (expert only):
# geometry.factory.devel : boolean = 0
# geometry.mapping.devel : boolean = 0
# geometry.id_mgr.devel  : boolean = 0


#####################
# VERTEX GENERATION #
#####################

[name="vertex_generator"]

#@description Main configuration file for the vertex generator:
#config : string = "${SNGENVERTEX_DATA_DIR}/resources/setups/snemo/config_1.0/manager.conf";

# #@description the name of the random number generator
# rng_id : string = "taus2"

# #@description the seed used by the random number generator
# seed : integer = 314159

#@description the filename with the list of registered vertex generators
vg_list : string[3] = \
  "${SNGENVERTEX_DATA_DIR}/resources/setups/snemo/config_1.0/scin_vg.lis" \
  "${SNGENVERTEX_DATA_DIR}/resources/setups/snemo/config_1.0/tracker_vg.lis" \
  "${SNGENVERTEX_DATA_DIR}/resources/setups/snemo/config_1.0/source_vg.lis"

# #@description the name of the vertex generator to be used
# generator : string = "source_pads_bulk"


#########################
# DETECTOR CONSTRUCTION #
#########################

[name="detector_construction"]

#@config Main configuration file for the detector construction user object:

#@description Debug flag
debug : boolean = 0

#@description Verbose flag
verbose : boolean = 0

#@description Temporary directory for GDML file generation:
gdml.tmp_dir         : string = "/tmp/${USER}/sng4.d"
gdml.schema_location : string = "local" # "remote"
gdml.no_validation   : boolean = 0

#@description Configuration file for the step hit processor factory:
hit_processor_factory.config : string = "${SNG4_DATA_DIR}/resources/setups/snemo/config_1.0/step_hit_processor_factory.conf"

#@description Configuration file for the step hit processor factory (without visu hits):
#hit_processor_factory.config : string = "${SNG4_DATA_DIR}/resources/setups/snemo/config_1.0/step_hit_processor_factory_novisu.conf"

#@description Configuration file for the step hit processor factory (without visu hits):
# hit_processor_factory.config : string = "${SNG4_DATA_DIR}/resources/setups/snemo/config_1.0/step_hit_processor_factory_noprocessing.conf"

#@description Parameters for the generation of 'sensitive hits' through 'sensitive detectors' :
sensitive.detectors : string[4] = "calorimeter" "xcalorimeter" "gveto" "tracker"

sensitive.calorimeter.debug                           : boolean = 0
sensitive.calorimeter.hits_buffer_capacity            : integer = 200
sensitive.calorimeter.record_alpha_quenching          : boolean = 1
sensitive.calorimeter.record_track_id                 : boolean = 1
sensitive.calorimeter.record_primary_particle         : boolean = 1
sensitive.calorimeter.drop_zero_energy_deposit_steps  : boolean = 0
sensitive.calorimeter.track_gamma                     : boolean = 1

sensitive.xcalorimeter.debug                          : boolean = 1
sensitive.xcalorimeter.hits_buffer_capacity           : integer = 200
sensitive.xcalorimeter.record_alpha_quenching         : boolean = 1
sensitive.xcalorimeter.record_track_id                : boolean = 1
sensitive.xcalorimeter.record_primary_particle        : boolean = 1
sensitive.xcalorimeter.drop_zero_energy_deposit_steps : boolean = 0
sensitive.xcalorimeter.track_gamma                    : boolean = 1

sensitive.gveto.debug                                 : boolean = 0
sensitive.gveto.hits_buffer_capacity                  : integer = 200
sensitive.gveto.record_alpha_quenching                : boolean = 1
sensitive.gveto.record_track_id                       : boolean = 1
sensitive.gveto.record_primary_particle               : boolean = 1
sensitive.gveto.drop_zero_energy_deposit_steps        : boolean = 0
sensitive.gveto.track_gamma                           : boolean = 1

sensitive.tracker.debug                               : boolean = 0
sensitive.tracker.hits_buffer_capacity                : integer = 1000
sensitive.tracker.record_alpha_quenching              : boolean = 1
sensitive.tracker.record_track_id                     : boolean = 1
sensitive.tracker.record_primary_particle             : boolean = 1
sensitive.tracker.drop_zero_energy_deposit_steps      : boolean = 0
sensitive.tracker.track_gamma                         : boolean = 1

#@description Magnetic field value (gauss):
magnetic_field.default_field : real = 25.0

#@description List of module's IDs with non-zero magnetic field:
magnetic_field.modules : integer[1] = 0

#@description SetDeltaChord miss distance (mm):
magnetic_field.miss_distance : real = 0.5

#@description List of geometry models with max steps:
limits.list_of_models : string[2] = \
		       "source_pad" \
		       "drift_cell_core"

#@description Max step length inside source pad (mm):
limits.max_step.source_pad : real = 0.01

#@description Max step length inside drift cell tracking volume (mm):
limits.max_step.drift_cell_core : real = 5.0

#@description List of regions :
regions             : string[3] = "calorimeter" "tracker" "source"

#@description List of attached volumes/models per region :
regions.calorimeter : string[3] = "calo_scin_block" "gveto_scin_block" "xcalo_scin_block"
regions.tracker     : string[1] = "drift_cell_core"
regions.source      : string[1] = "source_pad"


################
# PHYSICS LIST #
################

[name="physics_list"]

#@config Main configuration file for the physics lists:

debug       : boolean = 0
verbosity   : integer = 0

electron.energy_loss         : boolean = 1
electron.multiple_scaterring : boolean = 1
use_he_leptons               : boolean = 0
use_mesons                   : boolean = 1

# User cuts:
using_cuts : boolean = 1
production_cuts.regions     : string [3] = "calorimeter" "tracker" "source"
production_cuts.calorimeter : real       = 5.0
production_cuts.tracker     : real       = 0.5
production_cuts.source      : real       = 0.05
production_cuts.length_unit : string     = "mm"


#######################################
# PRIMARY PARTICLES/EVENTS GENERATION #
#######################################

[name="primary_generator"]

#@config Configuration of the primary event generator

#@description Debug
# debug : boolean = 0

# #@description the seed used by the random number generator
# seed : integer = 0

#@description Configuration file for the embedded 'snemo::genbb::manager'
config : string = "${SNGENBB_DATA_DIR}/resources/setups/snemo/config_1.0/manager.conf"


##############
# RUN ACTION #
##############

[name="run_action"]

#@description Run action debug flag :
debug : boolean = 0

#@description Run action stores some meta data in a run header and footer:
# using_run_header_footer : boolean = 0

#@description Run action event number print modulo :
number_events_modulo : integer = 1

#@description If set, this flag forbids the generation of output files :
file.no_save : boolean = 1

#@description Path directory for output files:
# file.directory : string = "."

#@description Format of the output files ("xml", "binary", "ascii", "brio") :
# file.format : string = "brio"
# file.format : string = "ascii"

#@description Compression mode of the output files ("none", "gzip", "bzip2"; not for the "brio" format) :
# file.compression : string = "gzip"

#@description Prefix of the output files' name :
# file.prefix : string = "sng4_"


################
# EVENT ACTION #
################

[name="event_action"]

#@description Event action debug flag:
debug : boolean = 0

#@description Event model collection type (handle, plain) :
#event_model.hit_collection_type : string = "handle"
#event_model.hit_collection_type : string = "plain"

###################
# TRACKING ACTION #
###################

[name="tracking_action"]

#@description Event action debug flag:
# debug : boolean = 0


###################
# STEPPING ACTION #
###################

[name="stepping_action"]

#@description Stepping action debug flag:
# debug : boolean = 0


###################
# STACKING ACTION #
###################

[name="stacking_action"]

#@description Stacking action debug flag:
# debug : boolean = 0

#@description Kill secondary particles within some volumes :
# kill_particles : boolean = 0

#@description Kill secondary particles within some volumes :
#kill_particles.volumes : string[1] = "drift_cell_core"

#@description Kill secondary particles within some materials :
#kill_particles.materials : string[1] = "tracking_gas"

# end of configuration file.
